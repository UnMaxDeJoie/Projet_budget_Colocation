{"ast":null,"code":"var _jsxFileName = \"/app/src/BudgetsContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useContext, useState } from 'react';\nimport { v4 as uuidV4 } from 'uuid';\nimport useLocalStorage from \"./useLocalStorage\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BudgetContext = /*#__PURE__*/React.createContext();\nexport function useBudgets() {\n  _s();\n  return useContext(BudgetContext);\n}\n_s(useBudgets, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nexport const BudgetsProvider = _ref => {\n  _s2();\n  let {\n    children\n  } = _ref;\n  const [budgets, setBudgets] = useLocalStorage(\"budgets\", []);\n  const [expenses, setExpenses] = useLocalStorage(\"expenses\", []);\n  function getBudgetExpenses(budgetId) {\n    return expenses.filter(expense => expense.budgetId === budgetId);\n  }\n  function addExpense(_ref2) {\n    let {\n      description,\n      amount,\n      budgetId\n    } = _ref2;\n    setExpenses(prevExpenses => {\n      return [...prevExpenses, {\n        id: uuidV4(),\n        description,\n        amount,\n        budgetId\n      }];\n    });\n  }\n  function addBudget(_ref3) {\n    let {\n      name,\n      max\n    } = _ref3;\n    setBudgets(prevBudgets => {\n      if (prevBudgets.find(budget => budget.name === name)) {\n        return prevBudgets;\n      }\n      return [...prevBudgets, {\n        id: uuidV4(),\n        name,\n        max\n      }];\n    });\n  }\n  function deleteBudget(_ref4) {\n    let {\n      id\n    } = _ref4;\n    setBudgets(prevBudgets => {\n      return prevBudgets.filter(budget => budget.id !== id);\n    });\n  }\n  function deleteExpense(_ref5) {\n    let {\n      id\n    } = _ref5;\n    setExpenses(prevExpenses => {\n      return prevExpenses.filter(expense => expense.id !== id);\n    });\n  }\n  return /*#__PURE__*/_jsxDEV(BudgetContext.Provider, {\n    value: {\n      budgets,\n      expenses,\n      getBudgetExpenses,\n      addExpense,\n      addBudget,\n      deleteBudget,\n      deleteExpense\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 9\n  }, this);\n};\n_s2(BudgetsProvider, \"J7E4d7guQZ/gp2cZLJi5v6QwLyA=\", false, function () {\n  return [useLocalStorage, useLocalStorage];\n});\n_c = BudgetsProvider;\nvar _c;\n$RefreshReg$(_c, \"BudgetsProvider\");","map":{"version":3,"names":["React","useContext","useState","v4","uuidV4","useLocalStorage","BudgetContext","createContext","useBudgets","BudgetsProvider","children","budgets","setBudgets","expenses","setExpenses","getBudgetExpenses","budgetId","filter","expense","addExpense","description","amount","prevExpenses","id","addBudget","name","max","prevBudgets","find","budget","deleteBudget","deleteExpense"],"sources":["/app/src/BudgetsContext.js"],"sourcesContent":["import React, {useContext, useState} from 'react'\r\nimport { v4 as uuidV4 } from 'uuid'\r\nimport useLocalStorage from \"./useLocalStorage\";\r\n\r\nconst BudgetContext = React.createContext()\r\n\r\nexport function useBudgets() {\r\n    return useContext(BudgetContext)\r\n}\r\n\r\nexport const BudgetsProvider = ({ children }) => {\r\n    const [budgets, setBudgets] = useLocalStorage(\"budgets\",[])\r\n    const [expenses, setExpenses] = useLocalStorage(\"expenses\",[])\r\n\r\n    function getBudgetExpenses(budgetId){\r\n        return expenses.filter(expense => expense.budgetId === budgetId)\r\n    }\r\n    function addExpense({ description, amount, budgetId }){\r\n        setExpenses(prevExpenses => {\r\n            return [...prevExpenses, { id: uuidV4(), description, amount, budgetId }]\r\n        })\r\n    }\r\n    function addBudget({ name, max }){\r\n        setBudgets(prevBudgets => {\r\n            if (prevBudgets.find(budget => budget.name === name)){\r\n                return prevBudgets\r\n            }\r\n            return [...prevBudgets, { id: uuidV4(), name, max }]\r\n        })\r\n    }\r\n    function deleteBudget({ id }){\r\n        setBudgets(prevBudgets => {\r\n            return prevBudgets.filter(budget => budget.id !== id)\r\n        })\r\n    }\r\n    function deleteExpense({ id }){\r\n        setExpenses(prevExpenses => {\r\n            return prevExpenses.filter(expense=> expense.id !== id)\r\n        })\r\n    }\r\n\r\n    return (\r\n        <BudgetContext.Provider value={{\r\n            budgets,\r\n            expenses,\r\n            getBudgetExpenses,\r\n            addExpense,\r\n            addBudget,\r\n            deleteBudget,\r\n            deleteExpense\r\n        }}>{ children }</BudgetContext.Provider>\r\n    )\r\n}"],"mappings":";;;AAAA,OAAOA,KAAK,IAAGC,UAAU,EAAEC,QAAQ,QAAO,OAAO;AACjD,SAASC,EAAE,IAAIC,MAAM,QAAQ,MAAM;AACnC,OAAOC,eAAe,MAAM,mBAAmB;AAAC;AAEhD,MAAMC,aAAa,gBAAGN,KAAK,CAACO,aAAa,EAAE;AAE3C,OAAO,SAASC,UAAU,GAAG;EAAA;EACzB,OAAOP,UAAU,CAACK,aAAa,CAAC;AACpC;AAAC,GAFeE,UAAU;AAI1B,OAAO,MAAMC,eAAe,GAAG,QAAkB;EAAA;EAAA,IAAjB;IAAEC;EAAS,CAAC;EACxC,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGP,eAAe,CAAC,SAAS,EAAC,EAAE,CAAC;EAC3D,MAAM,CAACQ,QAAQ,EAAEC,WAAW,CAAC,GAAGT,eAAe,CAAC,UAAU,EAAC,EAAE,CAAC;EAE9D,SAASU,iBAAiB,CAACC,QAAQ,EAAC;IAChC,OAAOH,QAAQ,CAACI,MAAM,CAACC,OAAO,IAAIA,OAAO,CAACF,QAAQ,KAAKA,QAAQ,CAAC;EACpE;EACA,SAASG,UAAU,QAAmC;IAAA,IAAlC;MAAEC,WAAW;MAAEC,MAAM;MAAEL;IAAS,CAAC;IACjDF,WAAW,CAACQ,YAAY,IAAI;MACxB,OAAO,CAAC,GAAGA,YAAY,EAAE;QAAEC,EAAE,EAAEnB,MAAM,EAAE;QAAEgB,WAAW;QAAEC,MAAM;QAAEL;MAAS,CAAC,CAAC;IAC7E,CAAC,CAAC;EACN;EACA,SAASQ,SAAS,QAAe;IAAA,IAAd;MAAEC,IAAI;MAAEC;IAAI,CAAC;IAC5Bd,UAAU,CAACe,WAAW,IAAI;MACtB,IAAIA,WAAW,CAACC,IAAI,CAACC,MAAM,IAAIA,MAAM,CAACJ,IAAI,KAAKA,IAAI,CAAC,EAAC;QACjD,OAAOE,WAAW;MACtB;MACA,OAAO,CAAC,GAAGA,WAAW,EAAE;QAAEJ,EAAE,EAAEnB,MAAM,EAAE;QAAEqB,IAAI;QAAEC;MAAI,CAAC,CAAC;IACxD,CAAC,CAAC;EACN;EACA,SAASI,YAAY,QAAQ;IAAA,IAAP;MAAEP;IAAG,CAAC;IACxBX,UAAU,CAACe,WAAW,IAAI;MACtB,OAAOA,WAAW,CAACV,MAAM,CAACY,MAAM,IAAIA,MAAM,CAACN,EAAE,KAAKA,EAAE,CAAC;IACzD,CAAC,CAAC;EACN;EACA,SAASQ,aAAa,QAAQ;IAAA,IAAP;MAAER;IAAG,CAAC;IACzBT,WAAW,CAACQ,YAAY,IAAI;MACxB,OAAOA,YAAY,CAACL,MAAM,CAACC,OAAO,IAAGA,OAAO,CAACK,EAAE,KAAKA,EAAE,CAAC;IAC3D,CAAC,CAAC;EACN;EAEA,oBACI,QAAC,aAAa,CAAC,QAAQ;IAAC,KAAK,EAAE;MAC3BZ,OAAO;MACPE,QAAQ;MACRE,iBAAiB;MACjBI,UAAU;MACVK,SAAS;MACTM,YAAY;MACZC;IACJ,CAAE;IAAA,UAAGrB;EAAQ;IAAA;IAAA;IAAA;EAAA,QAA2B;AAEhD,CAAC;AAAA,IA1CYD,eAAe;EAAA,QACMJ,eAAe,EACbA,eAAe;AAAA;AAAA,KAFtCI,eAAe;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}